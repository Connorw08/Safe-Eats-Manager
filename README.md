# SafeEats

SafeEats is an open-source web application that helps users find allergy-friendly restaurants and dishes, based on their specific dietary needs and preferences. Users can find restaurants in a specific location, filter by food preferences or allergens, and save their preferences to their profile.

This repository contains the source code for the SafeEats restaurant web application, which is where restaurants’ menu data gets added to the application. For the user-side web application, see https://github.com/SafeEats-TeamH-Spring-2024-COMP-523/SafeEatsH 

## Features
* User account creation and authentication.
* Restaurant creation, including restaurant name, address, description, phone number, and cuisine type.
* Menu item creation, including item name, description, price, automatic ingredient-list parsing for allergens, and manual allergen checkoff. 
* Menu item management, which allows users to edit and delete menu items.

## Installation
Required installations:
* VSCode or other IDE
    * Navigate to https://code.visualstudio.com/download and click on one of the download links depending on the operating system.
* NPM and NodeJS
    * Navigate to https://nodejs.org/en/download and download the right installer for your operating system.

## Setup 

### Prerequisites

-   Python 3.7 or higher
-   Node.js and npm
-   Git (for cloning the repository)

### Installing Pip

```bash
# Check if pip is installed
pip --version

# If pip is not installed, install it
# For Ubuntu/Debian
sudo apt install python3-pip

# For macOS
brew install python3

# For Windows
# Download get-pip.py from https://bootstrap.pypa.io/get-pip.py
# Then run:
python get-pip.py
```

### Setting Up the Backend

Obtain the .env file from the client and add it to the backend/app folder. It may have a file name that was automatically generated by Outlook; remove this so the file is only named .env. 

```bash
# Navigate to the backend directory
cd backend/app

# Install dependencies
pip install -r requirements.txt

# Alternative: Manual installation if requirements.txt is missing
pip install

# Start the development server
uvicorn main:app --reload
```

### Setting Up the Frontend
```bash
# Navigate to the frontend directory
cd frontend

# Install dependencies
npm install

# Start the development server
npm start
```

### Running the Application
Use two separate terminals: one for the backend, and one for the frontend.
```bash
# Navigate to the backend directory
cd backend/app

# Start the development server
uvicorn main:app --reload
```

Open another terminal. 
```bash
# Navigate to the frontend directory
cd frontend

# Start the development server
npm start
```

### Troubleshooting
-   For any missing packages not included in requirements.txt, install them individually using  `pip install [package-name]`.
-   Make sure both backend and frontend servers are running simultaneously for the application to work properly. It will be easiest to have the backend running in one terminal and the frontend in another. 


## Deployment
The app is deployed at https://restaurant-allergy-manager.onrender.com. It may take several minutes for the backend to boot up after accessing the site, as we are on the free plan. We made two separate deployments for the project. One runs the backend and the other runs the frontend. I would recommend forking the repository, adding the .env values into Render, then making sure you’re in the correct directories when you install the dependencies for the frontend and the backend. Otherwise, you install and run the build similar to how you run it in your local environment. See the Render documentation for more details. https://render.com/docs

Adapted from https://github.com/SafeEats-TeamH-Spring-2024-COMP-523/SafeEatsH 
